<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>plot difference network — diff_plot • metanetwork</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="plot difference network — diff_plot"><meta property="og:description" content="Function to represent difference between two networks belonging to a metanetwork
with specific layout ('TL-tsne' or group 'TL-tsne') using either 'ggnet' or 'visNetwork' visualisation.
This function represent the difference between g1 and g2 (g1-g2)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet"><script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metanetwork</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/pyramid.html">The pyramid example</a>
    </li>
    <li>
      <a href="../articles/angola.html">The Angola dataset</a>
    </li>
    <li>
      <a href="../articles/norway.html">The Norway dataset</a>
    </li>
    <li>
      <a href="../articles/vertebrates.html">The metaweb of European vertebrates</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MarcOhlmann/metanetwork/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>plot difference network</h1>
    <small class="dont-index">Source: <a href="https://github.com/MarcOhlmann/metanetwork/blob/HEAD/R/diff_plot.R" class="external-link"><code>R/diff_plot.R</code></a></small>
    <div class="hidden name"><code>diff_plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to represent difference between two networks belonging to a metanetwork
with specific layout ('TL-tsne' or group 'TL-tsne') using either 'ggnet' or 'visNetwork' visualisation.
This function represent the difference between g1 and g2 (g1-g2).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">diff_plot</span><span class="op">(</span></span>
<span>  <span class="va">metanetwork</span>,</span>
<span>  <span class="va">g1</span>,</span>
<span>  <span class="va">g2</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"TL-tsne"</span>,</span>
<span>  vis_tool <span class="op">=</span> <span class="st">"ggnet"</span>,</span>
<span>  edge_thrs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  layout_metaweb <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  flip_coords <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  alpha_per_group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha_per_node <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TL_tsne.config <span class="op">=</span> <span class="va">TL_tsne.default</span>,</span>
<span>  nrep_ly <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  ggnet.config <span class="op">=</span> <span class="va">ggnet.default</span>,</span>
<span>  visNetwork.config <span class="op">=</span> <span class="va">visNetwork.default</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>metanetwork</dt>
<dd><p>object of class 'metanetwork'</p></dd>


<dt>g1</dt>
<dd><p>network (of class 'igraph') of metanetwork</p></dd>


<dt>g2</dt>
<dd><p>network (of class 'igraph') of metanetwork</p></dd>


<dt>beta</dt>
<dd><p>the diffusion parameter of the diffusion kernel, a positive scalar controlling the
squeezing of the network</p></dd>


<dt>mode</dt>
<dd><p>mode used for layout, either 'TL-tsne' or 'group-TL-tsne' (see <code><a href="attach_layout.html">attach_layout()</a></code>). Default is 'TL-tsne'</p></dd>


<dt>vis_tool</dt>
<dd><p>a character indicating the visualisation tool, either 'ggnet' or visNetwork</p></dd>


<dt>edge_thrs</dt>
<dd><p>if non-null, a numeric (between 0 and 1) indicating an edge threshold for the representation</p></dd>


<dt>layout_metaweb</dt>
<dd><p>a boolean indicating whether the layout of the metaweb should be used to represent the difference network.
to use metaweb layout = T, you need first to compute 'TL-tsne' layout for the metaweb for this beta value using <code><a href="attach_layout.html">attach_layout()</a></code></p></dd>


<dt>flip_coords</dt>
<dd><p>a boolean indicating whether coordinates should be flipped.
In that case, y-axis is the trophic level and x-axis is the layout axis</p></dd>


<dt>alpha_per_group</dt>
<dd><p>controlling alpha per group (only for 'ggnet' vis), a list of format
<code>list(resolutions = "XX",groups = XX,alpha_focal = XX,alpha_hidden = XX)</code>, see example</p></dd>


<dt>alpha_per_node</dt>
<dd><p>controlling alpha per node (only for 'ggnet' vis), a list of format
<code>list(nodes = XX,alpha_focal = XX,alpha_hidden = XX)</code>, see example</p></dd>


<dt>TL_tsne.config</dt>
<dd><p>configuration list for mode 'TL-tsne', default is TL_tsne.default</p></dd>


<dt>nrep_ly</dt>
<dd><p>If several layouts for this beta value are attached to the metaweb
(if <code>layout_metaweb = T</code>), index of the layout to use, see <code><a href="attach_layout.html">attach_layout()</a></code></p></dd>


<dt>ggnet.config</dt>
<dd><p>configuration list for ggnet representation, default is ggnet.default</p></dd>


<dt>visNetwork.config</dt>
<dd><p>configuration list for visNetwork representation, default is visNetwork.default</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>plot of the difference network, either using 'ggnet' or 'visNetwork'</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="attach_layout.html">attach_layout()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#on Angola dataset</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://igraph.org" class="external-link">igraph</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MarcOhlmann/metanetwork" class="external-link">metanetwork</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">meta_angola</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,</span></span>
<span class="r-in"><span>beta <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> beta = 0.05</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #100 error is: 907.373467953451</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #200 error is: 217.108824309046</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #300 error is: 217.230105496708</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Registered S3 method overwritten by 'GGally':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   method from   </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   +.gg   ggplot2</span>
<span class="r-plt img"><img src="diff_plot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using visNetwork</span></span></span>
<span class="r-in"><span><span class="co">## NOT RUN</span></span></span>
<span class="r-in"><span><span class="co">#return htmlwidget</span></span></span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,</span></span>
<span class="r-in"><span>beta <span class="op">=</span> <span class="fl">0.05</span>,vis_tool <span class="op">=</span> <span class="st">"visNetwork"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> beta = 0.05</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #100 error is: 907.373467955934</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #200 error is: 217.130710648407</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #300 error is: 217.255637346403</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> x_max = 1356.85756899361</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> y_max = 356.960649826536</span>
<div id="htmlwidget-344ad278359239508b4a" style="width:100%;height:1000px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-344ad278359239508b4a">{"x":{"nodes":{"id":["Ariidae","Aristeus varidens","Cephalopodes","Chondrichthyes","Demersal fish","Dentex","Detritus","Haemulidae","Large Zoo","Large pelagics","Macrobenthos","Marine birds","Marine mammals","Merluccius","Mesopelagics","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Phytoplankton","Polynemidae","Pseudotolithus","Sardinella","Sciaenidae","Serranidae","Small Zoo","Small pelagics","Trachurus"],"value":[0.0072364949370297,0.00218771127862037,0.00616044680215803,0.0108516557714419,0.0285983772614789,0.0616044680215803,0,0.0126043890749773,0,0.0011325572822899,0,0,0,0.0267991070130108,0.00197829502642337,0,0.0202340737100095,0.00317211012398178,0.00473632131386142,0,0.011360712964991,0.0679904765466263,0.135145187551605,0.0447082329435271,0.014553717227514,0,0.0349326253069569,0.163489036216309],"group":["more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","shared","more abundant in g1","shared","more abundant in g2","shared","shared","shared","more abundant in g2","more abundant in g1","shared","more abundant in g1","more abundant in g2","more abundant in g1","shared","more abundant in g1","more abundant in g1","more abundant in g2","more abundant in g1","more abundant in g1","shared","more abundant in g1","more abundant in g2"],"font.size":[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],"width":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05],"label":["Ariidae","Aristeus varidens","Cephalopodes","Chondrichthyes","Demersal fish","Dentex","Detritus","Haemulidae","Large Zoo","Large pelagics","Macrobenthos","Marine birds","Marine mammals","Merluccius","Mesopelagics","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Phytoplankton","Polynemidae","Pseudotolithus","Sardinella","Sciaenidae","Serranidae","Small Zoo","Small pelagics","Trachurus"],"x":[743.745054526577,-295.156884077014,801.504658748188,1356.85756899361,261.392142171037,429.925781645508,-1692.55352861469,599.270840751755,-764.105270939996,640.731256830285,-641.974708405664,845.837372048164,1141.98781089942,602.215058947371,-79.2202352723739,-852.29287833559,-259.818946066508,-752.644906234221,-776.719497217686,-1615.08643527066,128.490741938166,1102.23976046067,-252.799807916471,129.791202822958,357.702008695115,-904.579985148951,-230.203094195532,-24.535081783456],"y":[-186.968965608163,313.489158492109,29.1708081528228,-241.722819829839,2.91207998195868,130.420331944939,222.265978747438,175.307396367065,-89.2160686206601,-313.298193653314,107.023076421051,-367.98610098493,-44.4742482381915,-106.424638336849,-214.208079827361,154.720096870467,-24.1523629283178,244.540080212701,202.897688040712,-142.157063143296,274.308086013323,356.960649826536,-66.5234578825886,56.0952337306401,82.6695253283007,-121.956806257871,-159.95119126389,-273.740193554793]},"edges":{"from":["Ariidae","Ariidae","Aristeus varidens","Demersal fish","Demersal fish","Demersal fish","Demersal fish","Dentex","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Haemulidae","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large pelagics","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Merluccius","Merluccius","Merluccius","Mesopelagics","Mesopelagics","Mesopelagics","Mesopelagics","Mesopelagics","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Parapenaeus longirostris","Parapenaeus longirostris","Penaeus","Penaeus","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Polynemidae","Polynemidae","Pseudotolithus","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sciaenidae","Sciaenidae","Serranidae","Serranidae","Serranidae","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Trachurus","Trachurus"],"to":["Cephalopodes","Marine birds","Pseudotolithus","Ariidae","Cephalopodes","Chondrichthyes","Marine mammals","Pseudotolithus","Aristeus varidens","Large Zoo","Macrobenthos","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Polynemidae","Small Zoo","Pseudotolithus","Cephalopodes","Demersal fish","Dentex","Large pelagics","Marine birds","Merluccius","Mesopelagics","Miscellaneous","Sardinella","Sciaenidae","Small pelagics","Trachurus","Chondrichthyes","Ariidae","Cephalopodes","Demersal fish","Dentex","Haemulidae","Polynemidae","Sardinella","Sciaenidae","Serranidae","Chondrichthyes","Marine mammals","Pseudotolithus","Ariidae","Chondrichthyes","Large pelagics","Marine mammals","Merluccius","Ariidae","Cephalopodes","Dentex","Haemulidae","Macrobenthos","Merluccius","Miscellaneous","Polynemidae","Sardinella","Sciaenidae","Serranidae","Trachurus","Ariidae","Cephalopodes","Chondrichthyes","Dentex","Large pelagics","Marine birds","Marine mammals","Pseudotolithus","Sciaenidae","Serranidae","Dentex","Polynemidae","Polynemidae","Serranidae","Large Zoo","Macrobenthos","Middlebenthos","Miscellaneous","Sardinella","Small Zoo","Small pelagics","Trachurus","Marine mammals","Pseudotolithus","Ariidae","Ariidae","Cephalopodes","Haemulidae","Large pelagics","Marine birds","Marine mammals","Merluccius","Pseudotolithus","Serranidae","Small pelagics","Merluccius","Serranidae","Demersal fish","Merluccius","Pseudotolithus","Cephalopodes","Demersal fish","Dentex","Large Zoo","Large pelagics","Marine birds","Merluccius","Mesopelagics","Miscellaneous","Sardinella","Sciaenidae","Small pelagics","Trachurus","Ariidae","Cephalopodes","Dentex","Haemulidae","Large pelagics","Marine birds","Marine mammals","Merluccius","Serranidae","Haemulidae","Marine mammals"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"],"width":[0.05,0.05,0.2,0.05,0.05,0.1,0.05,0.05,1,0.2,0.8,0.85,0.3,1,1,0.05,0.3,0.1,0.25,0.3,0.3,0.2,0.2,0.2,0.5,0.1,0.35,0.32,0.2,0.5,0.15,0.1,0.25,0.3,0.2,0.25,0.25,0.05,0.23,0.2,0.25,0.25,0.2,0.2,0.25,0.1,0.1,0.1,0.1,0.15,0.25,0.25,0.1,0.15,0.1,0.35,0.05,0.2,0.25,0.05,0.15,0.1,0.2,0.05,0.1,0.2,0.26,0.1,0.15,0.1,0.05,0.25,0.1,0.1,0.2,0.05,0.15,0.3,0.4,0.7,0.5,0.3,0.04,0.1,0.05,0.25,0.05,0.2,0.2,0.1,0.05,0.05,0.1,0.15,0.1,0.06,0.1,0.1,0.1,0.15,0.05,0.3,0.1,0.6,0.2,0.25,0.2,0.5,0.2,0.15,0.1,0.2,0.15,0.1,0.05,0.05,0.2,0.2,0.2,0.2,0.1,0.1,0.1,0.05],"color":["black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","shapeProperties":{"useBorderWithImage":true},"physics":false},"manipulation":{"enabled":false},"layout":{"type":"square"},"edges":{"smooth":false,"shadow":false},"groups":{"shared":{"color":"grey50"},"more ab in g1":{"color":"#a1d99b"},"more ab in g2":{"color":"#fc9272"},"only pres in g1":{"color":"#31a354"},"useDefaultGroups":true,"only pres in g2":{"color":"#de2d26"}}},"groups":["more abundant in g1","shared","more abundant in g2"],"width":"100%","height":"1000px","idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Legend","style":"font-family:Comic Sans MS;color:#6d799c;font-size:12px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script><span class="r-in"><span><span class="co">## END NOT RUN</span></span></span>
<span class="r-in"><span><span class="co">#computing and using metaweb layout for diffplot</span></span></span>
<span class="r-in"><span><span class="va">meta_angola</span> <span class="op">=</span> <span class="fu"><a href="attach_layout.html">attach_layout</a></span><span class="op">(</span><span class="va">meta_angola</span>,beta <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> attaching TL-tsne layout for metaweb_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>                   beta = 0.1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> beta = 0.1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #100 error is: 838.971311061509</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #200 error is: 199.589209547711</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #300 error is: 199.589190200879</span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,</span></span>
<span class="r-in"><span>beta <span class="op">=</span> <span class="fl">0.1</span>,layout_metaweb <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-plt img"><img src="diff_plot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#using visNetwork</span></span></span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,</span></span>
<span class="r-in"><span>beta <span class="op">=</span> <span class="fl">0.1</span>,layout_metaweb <span class="op">=</span> <span class="cn">TRUE</span>,vis_tool <span class="op">=</span> <span class="st">"visNetwork"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> x_max = 1259.92651522773</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> y_max = 340.638960573765</span>
<div id="htmlwidget-0ebcb8ac447fd4c7fed5" style="width:100%;height:1000px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-0ebcb8ac447fd4c7fed5">{"x":{"nodes":{"id":["Ariidae","Aristeus varidens","Cephalopodes","Chondrichthyes","Demersal fish","Dentex","Detritus","Haemulidae","Large Zoo","Large pelagics","Macrobenthos","Marine birds","Marine mammals","Merluccius","Mesopelagics","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Phytoplankton","Polynemidae","Pseudotolithus","Sardinella","Sciaenidae","Serranidae","Small Zoo","Small pelagics","Trachurus"],"value":[0.0072364949370297,0.00218771127862037,0.00616044680215803,0.0108516557714419,0.0285983772614789,0.0616044680215803,0,0.0126043890749773,0,0.0011325572822899,0,0,0,0.0267991070130108,0.00197829502642337,0,0.0202340737100095,0.00317211012398178,0.00473632131386142,0,0.011360712964991,0.0679904765466263,0.135145187551605,0.0447082329435271,0.014553717227514,0,0.0349326253069569,0.163489036216309],"group":["more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","more abundant in g1","shared","more abundant in g1","shared","more abundant in g2","shared","shared","shared","more abundant in g2","more abundant in g1","shared","more abundant in g1","more abundant in g2","more abundant in g1","shared","more abundant in g1","more abundant in g1","more abundant in g2","more abundant in g1","more abundant in g1","shared","more abundant in g1","more abundant in g2"],"font.size":[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],"width":[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05],"label":["Ariidae","Aristeus varidens","Cephalopodes","Chondrichthyes","Demersal fish","Dentex","Detritus","Haemulidae","Large Zoo","Large pelagics","Macrobenthos","Marine birds","Marine mammals","Merluccius","Mesopelagics","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Phytoplankton","Polynemidae","Pseudotolithus","Sardinella","Sciaenidae","Serranidae","Small Zoo","Small pelagics","Trachurus"],"x":[1047.49216471797,504.799269679741,972.605001178622,1259.92651522773,860.582577727209,886.835852922561,0,969.612590524201,411.084028053437,958.100377104415,460.22540187178,975.760754672877,1179.22995630905,891.170783614282,746.693722330526,419.273795038533,603.577800067638,447.172655279325,451.722035545686,52.5397753429457,860.003765121626,1188.90008701223,600.096357283109,837.495775928444,880.869599294173,317.696711813529,605.23042182258,727.671913367828],"y":[-70.0567632022305,340.638960573765,16.0049010501649,-222.682822509424,-32.8592214195152,170.204428857996,240.631915794567,152.116054028098,-148.026087482216,-236.728520104904,139.56524075788,-346.44294925104,-143.268403012728,-151.548506215006,-184.678447319883,162.429557497129,-45.2206520485719,284.363762663283,269.836956649078,-149.92537916583,283.101479564407,246.35538089173,-114.35808045712,53.7908579697475,95.9622461824993,-150.938930655807,-180.739449028742,-277.527530607327]},"edges":{"from":["Ariidae","Ariidae","Aristeus varidens","Demersal fish","Demersal fish","Demersal fish","Demersal fish","Dentex","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Detritus","Haemulidae","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large Zoo","Large pelagics","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Macrobenthos","Merluccius","Merluccius","Merluccius","Mesopelagics","Mesopelagics","Mesopelagics","Mesopelagics","Mesopelagics","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Middlebenthos","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Parapenaeus longirostris","Parapenaeus longirostris","Penaeus","Penaeus","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Phytoplankton","Polynemidae","Polynemidae","Pseudotolithus","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sardinella","Sciaenidae","Sciaenidae","Serranidae","Serranidae","Serranidae","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small Zoo","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Small pelagics","Trachurus","Trachurus"],"to":["Cephalopodes","Marine birds","Pseudotolithus","Ariidae","Cephalopodes","Chondrichthyes","Marine mammals","Pseudotolithus","Aristeus varidens","Large Zoo","Macrobenthos","Middlebenthos","Miscellaneous","Parapenaeus longirostris","Penaeus","Polynemidae","Small Zoo","Pseudotolithus","Cephalopodes","Demersal fish","Dentex","Large pelagics","Marine birds","Merluccius","Mesopelagics","Miscellaneous","Sardinella","Sciaenidae","Small pelagics","Trachurus","Chondrichthyes","Ariidae","Cephalopodes","Demersal fish","Dentex","Haemulidae","Polynemidae","Sardinella","Sciaenidae","Serranidae","Chondrichthyes","Marine mammals","Pseudotolithus","Ariidae","Chondrichthyes","Large pelagics","Marine mammals","Merluccius","Ariidae","Cephalopodes","Dentex","Haemulidae","Macrobenthos","Merluccius","Miscellaneous","Polynemidae","Sardinella","Sciaenidae","Serranidae","Trachurus","Ariidae","Cephalopodes","Chondrichthyes","Dentex","Large pelagics","Marine birds","Marine mammals","Pseudotolithus","Sciaenidae","Serranidae","Dentex","Polynemidae","Polynemidae","Serranidae","Large Zoo","Macrobenthos","Middlebenthos","Miscellaneous","Sardinella","Small Zoo","Small pelagics","Trachurus","Marine mammals","Pseudotolithus","Ariidae","Ariidae","Cephalopodes","Haemulidae","Large pelagics","Marine birds","Marine mammals","Merluccius","Pseudotolithus","Serranidae","Small pelagics","Merluccius","Serranidae","Demersal fish","Merluccius","Pseudotolithus","Cephalopodes","Demersal fish","Dentex","Large Zoo","Large pelagics","Marine birds","Merluccius","Mesopelagics","Miscellaneous","Sardinella","Sciaenidae","Small pelagics","Trachurus","Ariidae","Cephalopodes","Dentex","Haemulidae","Large pelagics","Marine birds","Marine mammals","Merluccius","Serranidae","Haemulidae","Marine mammals"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"],"width":[0.05,0.05,0.2,0.05,0.05,0.1,0.05,0.05,1,0.2,0.8,0.85,0.3,1,1,0.05,0.3,0.1,0.25,0.3,0.3,0.2,0.2,0.2,0.5,0.1,0.35,0.32,0.2,0.5,0.15,0.1,0.25,0.3,0.2,0.25,0.25,0.05,0.23,0.2,0.25,0.25,0.2,0.2,0.25,0.1,0.1,0.1,0.1,0.15,0.25,0.25,0.1,0.15,0.1,0.35,0.05,0.2,0.25,0.05,0.15,0.1,0.2,0.05,0.1,0.2,0.26,0.1,0.15,0.1,0.05,0.25,0.1,0.1,0.2,0.05,0.15,0.3,0.4,0.7,0.5,0.3,0.04,0.1,0.05,0.25,0.05,0.2,0.2,0.1,0.05,0.05,0.1,0.15,0.1,0.06,0.1,0.1,0.1,0.15,0.05,0.3,0.1,0.6,0.2,0.25,0.2,0.5,0.2,0.15,0.1,0.2,0.15,0.1,0.05,0.05,0.2,0.2,0.2,0.2,0.1,0.1,0.1,0.05],"color":["black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","shapeProperties":{"useBorderWithImage":true},"physics":false},"manipulation":{"enabled":false},"layout":{"type":"square"},"edges":{"smooth":false,"shadow":false},"groups":{"shared":{"color":"grey50"},"more ab in g1":{"color":"#a1d99b"},"more ab in g2":{"color":"#fc9272"},"only pres in g1":{"color":"#31a354"},"useDefaultGroups":true,"only pres in g2":{"color":"#de2d26"}}},"groups":["more abundant in g1","shared","more abundant in g2"],"width":"100%","height":"1000px","idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.1,"useGroups":true,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"main":{"text":"Legend","style":"font-family:Comic Sans MS;color:#6d799c;font-size:12px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##contrasting alpha </span></span></span>
<span class="r-in"><span><span class="co">#per group</span></span></span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,beta <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>          alpha_per_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>resolution <span class="op">=</span> <span class="st">"Phylum"</span>,groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fish"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>alpha_focal <span class="op">=</span> <span class="fl">0.01</span>,alpha_hidden <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> beta = 0.05</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #100 error is: 907.373467959542</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #200 error is: 217.139449639585</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #300 error is: 217.267629080211</span>
<span class="r-plt img"><img src="diff_plot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#per node           </span></span></span>
<span class="r-in"><span><span class="fu">diff_plot</span><span class="op">(</span>metanetwork <span class="op">=</span> <span class="va">meta_angola</span>,g1 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X2003</span>,g2 <span class="op">=</span> <span class="va">meta_angola</span><span class="op">$</span><span class="va">X1986</span>,beta <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>alpha_per_node <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Detritus"</span>,<span class="st">"Phytoplankton"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>alpha_focal <span class="op">=</span> <span class="fl">0.01</span>,alpha_hidden <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> plotting: X2003_Species - X1986_Species</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> mode is TL-tsne</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> beta = 0.05</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #100 error is: 907.373467950668</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #200 error is: 217.113609987538</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Epoch: Iteration #300 error is: 217.233468491867</span>
<span class="r-plt img"><img src="diff_plot-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Marc Ohlmann, Jimmy Garnier, Laurent Vuillon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

